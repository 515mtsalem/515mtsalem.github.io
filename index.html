<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>1930s Tudor Revival — Washington, Virginia</title>
<meta name="description" content="A classic 1930s Tudor Revival home in Washington, Virginia — presented with a refined, modern aesthetic.">
<style>
:root{--ink:#111;--muted:#666;--accent:#31433B;--bg:#fff;}
*{box-sizing:border-box}
body{margin:0;background:var(--bg);color:var(--ink);font:16px/1.55 Didot,Georgia,serif;}
a{color:var(--accent);text-decoration:none}
a:hover{text-decoration:underline}
header{background:#605252;color:#fff;padding:28px 16px}
.wrap{max-width:1100px;margin:0 auto;padding:0 20px}
.brand{display:flex;align-items:center;justify-content:space-between;gap:16px}
.brand h1{margin:0;font-size:24px;letter-spacing:.4px;font-weight:700}
nav a{color:#fff;margin-left:18px;opacity:.9}
nav a:hover{opacity:1}
.hero{display:grid;grid-template-columns:1.2fr 1fr;gap:28px;align-items:center;padding:40px 0;border-bottom:1px solid #eee}
.hero .card{position:relative;border-radius:16px;overflow:hidden;border:1px solid #e8eaed;background:#fff;box-shadow:0 6px 24px rgba(0,0,0,.08)}
.hero .card img{width:100%;height:100%;object-fit:cover;display:block;aspect-ratio:16/9}
.badge{position:absolute;left:16px;top:16px;background:rgba(17,17,17,.92);color:#fff;padding:8px 12px;border-radius:999px;font-size:14px}
h2{font-size:26px;margin:0 0 12px}
.sub{color:var(--muted)}
.pills{display:flex;gap:10px;flex-wrap:wrap;margin:14px 0 0}
.pills span{background:#f2f4f6;padding:8px 12px;border-radius:999px;font-size:14px;border:1px solid #e8eaed}
section{padding:36px 0;border-bottom:1px solid #eee}
.grid{display:grid;gap:16px}
.grid.features{grid-template-columns:repeat(3,minmax(0,1fr))}
.feature{display:flex;gap:10px;align-items:baseline;color:var(--ink)}
.card{border:1px solid #e8eaed;border-radius:14px;overflow:hidden;background:#fff;box-shadow:0 4px 12px rgba(0,0,0,.06)}
.card .pad{padding:14px}
.gallery{display:grid;grid-template-columns:repeat(3,minmax(0,1fr));gap:16px}
.gallery img{width:100%;height:220px;object-fit:cover;display:block;border-radius:10px}
.two{display:grid;grid-template-columns:1fr 1fr;gap:24px}
.cta{display:inline-block;background:var(--accent);color:#fff;padding:10px 16px;border-radius:8px}
.cta:hover{opacity:.92}
.video-embed{position:relative;padding-bottom:56.25%;height:0;overflow:hidden;border-radius:12px;box-shadow:0 2px 12px rgba(0,0,0,.15)}
.video-embed iframe{position:absolute;top:0;left:0;width:100%;height:100%;border:0}
footer{padding:28px 0;color:#777;font-size:14px}
.note{background:#fff8ed;border:1px solid #ffe0b3;padding:12px;border-radius:10px}
.video-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
  gap: 20px;
}
.video-grid video {
  width: 100%;
  border-radius: 12px;
  box-shadow: 0 2px 8px rgba(0,0,0,0.15);
}

/* --- Single-image gallery preview --- */
.gallery-launch {
  all: unset; display: block; position: relative; cursor: zoom-in;
  border-radius: 14px; overflow: hidden; border: 1px solid #e8eaed;
  box-shadow: 0 6px 20px rgba(0,0,0,.08);
}
.gallery-launch img { width: 100%; height: auto; display: block; }
.gallery-badge {
  position: absolute; right: 12px; bottom: 12px;
  background: rgba(17,17,17,.8); color:#fff; font-size:14px;
  padding: 8px 12px; border-radius: 999px; backdrop-filter: blur(4px);
}

/* --- Lightbox --- */
#lightbox {
  position: fixed; inset: 0;
  background: rgba(0,0,0,.82);
  backdrop-filter: blur(6px) saturate(1.05);
  display: none; opacity: 0;
  align-items: center; justify-content: center;
  z-index: 9999;
  padding: max(12px, env(safe-area-inset-top)) max(12px, env(safe-area-inset-right))
           max(12px, env(safe-area-inset-bottom)) max(12px, env(safe-area-inset-left));
  transition: opacity .18s ease;
}
#lightbox.active { display: flex; opacity: 1; }

.lb-stage {
  max-width: min(92vw, 1400px);
  max-height: 86vh;
  display: grid;
  grid-template-rows: 1fr auto;
  gap: 12px;
  align-items: center; justify-items: center;
}
#lb-image {
  max-width: 100%; max-height: 100%;
  object-fit: contain;
  border-radius: 12px;
  box-shadow: 0 16px 48px rgba(0,0,0,.35);
  transform: none !important;  /* prevent cumulative shrink */
}
.lb-meta {
  width: 100%;
  display: flex; gap: 12px; align-items: center; justify-content: space-between;
  color: #e8e8e8; font-size: 14px;
}
.lb-caption { overflow: hidden; text-overflow: ellipsis; white-space: nowrap; }
.lb-count   { opacity: .9; }

/* Controls fixed to viewport (won’t overlap or drift) */
.lb-close, .lb-prev, .lb-next {
  position: fixed;
  background: rgba(255,255,255,.12);
  color:#fff; border: 1px solid rgba(255,255,255,.25);
  border-radius: 14px; cursor: pointer; backdrop-filter: blur(6px);
  z-index: 10000;
}
.lb-close {
  top: max(14px, calc(env(safe-area-inset-top) + 8px));
  right: max(14px, calc(env(safe-area-inset-right) + 8px));
  width: 44px; height: 44px; font-size: 28px; line-height: 1;
}
.lb-prev, .lb-next {
  top: 50%; transform: translateY(-50%);
  width: 56px; height: 72px; display: grid; place-items: center;
}
.lb-prev { left:  max(14px, calc(env(safe-area-inset-left) + 8px)); }
.lb-next { right: max(14px, calc(env(safe-area-inset-right) + 8px)); }
.lb-prev::before, .lb-next::before {
  content: ""; width: 12px; height: 12px;
  border-top: 2px solid #fff; border-right: 2px solid #fff;
}
.lb-prev::before { transform: rotate(-135deg); }
.lb-next::before { transform: rotate(45deg); }
.lb-close:hover, .lb-prev:hover, .lb-next:hover { background: rgba(255,255,255,.22); }
.lb-prev:active, .lb-next:active { transform: translateY(-50%); }
.lb-close:active { transform: none; }

@media (max-width: 720px){
  .lb-prev, .lb-next { width: 48px; height: 60px; }
  #lb-image { border-radius: 10px; }
}




  
@media (max-width: 960px){ .hero{grid-template-columns:1fr} .gallery{grid-template-columns:repeat(2,minmax(0,1fr))} .two{grid-template-columns:1fr} }
</style>
</head>
<body>
  <header>
    <div class="wrap brand">
      <h1>515 MT SALEM AVE., WASHINGTON, VA 22747</h1>
      <nav>
        <a href="#highlights">Highlights</a>
        <a href="#gallery">Gallery</a>
        <a href="#video">Video</a>
        <a href="#details">Details</a>
        <a href="#contact">Contact</a>
      </nav>
    </div>
  </header>

  <main class="wrap">
    <div class="hero">
      <div class="card">
        <img src="images/gallery_1.jpg" alt="Front elevation of a 1930s Tudor Revival home">
        <div class="badge">For Sale</div>
      </div>
      <div>
        <h2>Timeless Tudor Revival</h2>
        <p class="sub">Rappahannock County • modern European cottage staging</p>
        <div class="pills">
          <span>4 bed (placeholder)</span>
          <span>3 bath (placeholder)</span>
          <span>~2,400 sq ft (placeholder)</span>
          <span>1930s construction</span>
        </div>
        <p style="margin-top:16px">
          Classic steep gables, brick and stone details, and warm, inviting interiors presented with a refined, auction‑house aesthetic.
        </p>
        <div style="display:flex; gap:12px; margin-top:12px">
          <a class="cta" href="#gallery">View photos</a>
          <a class="cta" style="background:#6b7a73" href="#details">Property details</a>
        </div>
      </div>
    </div>

    <section id="highlights">
      <h2>Highlights</h2>
      <div class="grid features">
        <div class="feature"><strong>Original charm</strong><span class="sub" style="margin-left:8px">arched doorways, wood trim</span></div>
        <div class="feature"><strong>Updated systems</strong><span class="sub" style="margin-left:8px">modern comforts</span></div>
        <div class="feature"><strong>Curated staging</strong><span class="sub" style="margin-left:8px">timeless + market‑friendly</span></div>
        <div class="feature"><strong>Outdoor living</strong><span class="sub" style="margin-left:8px">mature plantings</span></div>
        <div class="feature"><strong>Location</strong><span class="sub" style="margin-left:8px">Rappahannock wine & arts</span></div>
        <div class="feature"><strong>Move‑in ready</strong><span class="sub" style="margin-left:8px">clean, bright palette</span></div>
      </div>
    </section>

    <section id="gallery">
  <h2>Gallery</h2>
  <button id="openGallery" class="gallery-launch" aria-label="Open photo gallery">
    <img src="images/IMG_0337 Medium.jpeg" alt="Open gallery">
    <span class="gallery-badge">View All Photos</span>
  </button>
</section>


<section id="video">
  <h2>Video Tour</h2>
  <div class="video-grid">
    <video controls muted playsinline>
      <source src="images/hallwaysweep.mp4" type="video/mp4">
      Your browser does not support the video tag.
    </video>
    <video controls muted playsinline>
      <source src="images/hallway2.mp4" type="video/mp4">
      Your browser does not support the video tag.
    </video>
    <video controls muted playsinline>
      <source src="images/hallway3.mp4" type="video/mp4">
      Your browser does not support the video tag.
    </video>
        <video controls muted playsinline>
      <source src="images/diningroom2.mp4" type="video/mp4">
      Your browser does not support the video tag.
    </video>
    <video controls muted playsinline>
      <source src="images/diningroomchair.mp4" type="video/mp4">
      Your browser does not support the video tag.
    </video>
    <video controls muted playsinline>
      <source src="images/diningroomcredenza.mp4" type="video/mp4">
      Your browser does not support the video tag.
    </video>
    <video controls muted playsinline>
      <source src="images/den1.mp4" type="video/mp4">
      Your browser does not support the video tag.
    </video>
    <video controls muted playsinline>
      <source src="images/den2.mp4" type="video/mp4">
      Your browser does not support the video tag.
    </video>
    <video controls muted playsinline>
      <source src="images/den3.mp4" type="video/mp4">
      Your browser does not support the video tag.
    </video>    
    <video controls muted playsinline>
      <source src="images/livingroom1.mp4" type="video/mp4">
      Your browser does not support the video tag.
    </video>
    <video controls muted playsinline>
      <source src="images/livingroom2.mp4" type="video/mp4">
      Your browser does not support the video tag.
    </video>
    <video controls muted playsinline>
      <source src="images/livingroom3.mp4" type="video/mp4">
      Your browser does not support the video tag.
    </video>    
    <video controls muted playsinline>
      <source src="images/livingroom4.mp4" type="video/mp4">
      Your browser does not support the video tag.
    </video>
    <video controls muted playsinline>
      <source src="images/livingroom5.mp4" type="video/mp4">
      Your browser does not support the video tag.
    </video>
    <video controls muted playsinline>
      <source src="images/livingroom6.mp4" type="video/mp4">
      Your browser does not support the video tag.
    </video>    
    <video controls muted playsinline>
      <source src="images/walkupstairs.mp4" type="video/mp4">
      Your browser does not support the video tag.
    </video>
    <video controls muted playsinline>
      <source src="images/credenzalightflashflowers.mp4" type="video/mp4">
      Your browser does not support the video tag.
    </video>
    <video controls muted playsinline>
      <source src="images/guestbedroom.mp4" type="video/mp4">
      Your browser does not support the video tag.
    </video>    
    <video controls muted playsinline>
      <source src="images/porch1.mp4" type="video/mp4">
      Your browser does not support the video tag.
    </video>
    <video controls muted playsinline>
      <source src="images/porch2.mp4" type="video/mp4">
      Your browser does not support the video tag.
    </video>
    <video controls muted playsinline>
      <source src="images/porch3.mp4" type="video/mp4">
      Your browser does not support the video tag.
    </video>   
    <video controls muted playsinline>
      <source src="images/kitchen.mp4" type="video/mp4">
      Your browser does not support the video tag.
    </video>
    <video controls muted playsinline>
      <source src="images/bathroom.mp4" type="video/mp4">
      Your browser does not support the video tag.
    </video>
    <video controls muted playsinline>
      <source src="images/truffaltree.mp4" type="video/mp4">
      Your browser does not support the video tag.
    </video>      
  </div>
</section>

    <section id="details">
      <h2>Property Details</h2>
      <div class="two">
        <div class="card"><div class="pad">
          <h3 style="margin-top:0">At a glance</h3>
          <ul>
            <li>Address: <em>123 Sample St, Washington, VA 22747</em> (placeholder)</li>
            <li>Year built: 1930s</li>
            <li>Style: Tudor Revival</li>
            <li>Lot size: <em>Placeholder</em></li>
            <li>Schools: <em>Placeholder</em></li>
          </ul>
        </div></div>
        <div class="card"><div class="pad">
          <h3 style="margin-top:0">Description</h3>
          <p>
            A rare Tudor Revival blending original character with thoughtful updates. Sunlit rooms, cozy hearth, and graceful proportions
            suited to everyday living and entertaining. Close to farm markets, wineries, and the Blue Ridge.
          </p>
        </div></div>
      </div>
    </section>

    <section id="contact">
      <h2>Visit & Contact</h2>
      <div class="two">
        <div class="card"><div class="pad">
          <h3 style="margin-top:0">Book a showing</h3>
          <p>Have your agent reach out or email directly:</p>
          <p><a class="cta" href="mailto:yourname@example.com?subject=Showing%20Request%20—%201930s%20Tudor%20Revival">Email the seller/agent</a></p>
          <p class="note">Prefer a contact form? Connect this button to a service like Netlify Forms or Formspree.</p>
        </div></div>
        <div class="card"><div class="pad">
          <h3 style="margin-top:0">Neighborhood</h3>
          <p>Washington, Virginia offers small‑town charm with acclaimed dining and proximity to Shenandoah National Park.</p>
          <p><a href="https://www.google.com/maps" target="_blank" rel="noopener">Open in Google Maps</a></p>
        </div></div>
      </div>
    </section>

    <footer>
      © 2025 1930s Tudor Revival — Washington, VA · GitHub Pages ready
    </footer>
  </main>

<!-- Lightbox -->
<div id="lightbox" role="dialog" aria-modal="true" aria-hidden="true">
  <button class="lb-close" aria-label="Close (Esc)">&times;</button>
  <button class="lb-prev"  aria-label="Previous (←)"></button>
  <button class="lb-next"  aria-label="Next (→)"></button>

  <div class="lb-stage">
    <img id="lb-image" alt="">
    <div class="lb-meta">
      <div id="lb-caption" class="lb-caption"></div>
      <div id="lb-count"   class="lb-count" aria-live="polite"></div>
    </div>
  </div>
</div>


<script>
/* === Single Preview + Lazy Lightbox for explicit file list (no deps) ===
   - One on-page preview, click to open
   - Next/Prev through whole list
   - Lazy: only current image loads; neighbors are preloaded
   - Works with filenames that contain spaces ("Medium", " 2", " 4")
*/

(function(){
  // ---- Your files (exact names), inside the Images/ folder ----
  const FILES = [
"IMG_0337 Medium.jpeg",
"IMG_0340 Medium.jpeg",
"IMG_0341 Medium.jpeg",
"IMG_0343 Medium.jpeg",
"IMG_0347 Medium.jpeg",
"IMG_0349 Medium.jpeg",
"IMG_0362 Medium.jpeg",
"IMG_0443 Medium.jpeg",
"IMG_0452 Medium.jpeg",
"IMG_0453 Medium.jpeg",
"IMG_0455 Medium.jpeg",
"IMG_0459 Medium.jpeg",
"IMG_0470 Medium.jpeg",
"IMG_0474 Medium.jpeg",
"IMG_0477 Medium.jpeg",
"IMG_0478 Medium.jpeg",
"IMG_0484 Medium.jpeg",
"IMG_0487 Medium.jpeg",
"IMG_0488 Medium.jpeg",
"IMG_0491 Medium.jpeg",
"IMG_0494 Medium.jpeg",
"IMG_0495 Medium.jpeg",
"IMG_0498 Medium.jpeg",
"IMG_0499 Medium.jpeg",
"IMG_0500 Medium.jpeg",
"IMG_0501 Medium.jpeg",
"IMG_0502 Medium.jpeg",
"IMG_0503 Medium.jpeg",
"IMG_0505 Medium.jpeg",
"IMG_0506 Medium.jpeg",
"IMG_0507 Medium.jpeg",
"IMG_0508 Medium.jpeg",
"IMG_0517 Medium.jpeg",
"IMG_0519 Medium.jpeg",
"IMG_0520 Medium.jpeg",
"IMG_0521 Medium.jpeg",
"IMG_0522 Medium.jpeg",
"IMG_0523 Medium.jpeg",
"IMG_0524 Medium.jpeg",
"IMG_0526 Medium.jpeg",
"IMG_0527 Medium.jpeg",
"IMG_0528 Medium.jpeg",
"IMG_0529 Medium.jpeg",
"IMG_0531 Medium.jpeg",
"IMG_0532 Medium.jpeg",
"IMG_0534 Medium.jpeg",
"IMG_0535 Medium.jpeg",
"IMG_0536 Medium.jpeg",
"IMG_0537 Medium.jpeg",
"IMG_0538 Medium.jpeg",
"IMG_0539 Medium.jpeg",
"IMG_0541 Medium.jpeg",
"IMG_0552 Medium.jpeg",
"IMG_0553 Medium.jpeg",
"IMG_0559 Medium.jpeg",
"IMG_0560 Medium.jpeg",
"IMG_0561 Medium.jpeg",
"IMG_0562 Medium.jpeg",
"IMG_0566 Medium.jpeg",
"IMG_0567 Medium.jpeg",
"IMG_0568 Medium.jpeg",
"IMG_0571 Medium.jpeg",
"IMG_0573 Medium.jpeg",
"IMG_0574 Medium.jpeg",
"IMG_0575 Medium.jpeg",
"IMG_0577 Medium.jpeg",
"IMG_0580 Medium.jpeg",
"IMG_0582 Medium.jpeg",
"IMG_0583 Medium.jpeg",
"IMG_0584 Medium.jpeg",
"IMG_0585 Medium.jpeg",
"IMG_0587 Medium.jpeg",
"IMG_0588 Medium.jpeg",
"IMG_0589 Medium.jpeg",
"IMG_0590 Medium.jpeg",
"IMG_0591 Medium.jpeg",
"IMG_0592 Medium.jpeg",
"IMG_0593 Medium.jpeg",
"IMG_0595 Medium.jpeg",
"IMG_0596 Medium.jpeg",
"IMG_0597 Medium.jpeg",
"IMG_0599 Medium.jpeg",
"IMG_0600 Medium.jpeg",
"IMG_0601 Medium.jpeg",
"IMG_0602 Medium.jpeg",
"IMG_0621 Medium.jpeg",
"IMG_0624 Medium.jpeg",
"IMG_0626 Medium.jpeg",
"IMG_0631 Medium.jpeg",
"IMG_0634 Medium.jpeg",
"IMG_0635 Medium.jpeg",
"IMG_0636 Medium.jpeg",
"IMG_0639 Medium.jpeg",
"IMG_0646 Medium.jpeg",
"IMG_0649 Medium.jpeg",
"IMG_0652 Medium.jpeg",
"IMG_0653 Medium.jpeg",
"IMG_0654 Medium.jpeg",
"IMG_0655 Medium.jpeg",
"IMG_0662 Medium.jpeg",
"IMG_0666 Medium.jpeg",
"IMG_0667 Medium.jpeg",
"IMG_0668 Medium.jpeg",
"IMG_0669 Medium.jpeg",
"IMG_0670 Medium.jpeg",
"IMG_0671 Medium.jpeg",
"IMG_0672 Medium.jpeg",
"IMG_0673 Medium.jpeg",
"IMG_0674 Medium.jpeg",
"IMG_0675 Medium.jpeg",
"IMG_0676 Medium.jpeg",
"IMG_0677 Medium.jpeg",
"IMG_0678 Medium.jpeg",
"IMG_0684 Medium.jpeg",
"IMG_0685 Medium.jpeg",
"IMG_0687 Medium.jpeg",
"IMG_0689 Medium.jpeg",
"IMG_0690 Medium.jpeg",
"IMG_0692 Medium.jpeg",
"IMG_0694 Medium.jpeg",
"IMG_0709 Medium.jpeg",
"IMG_0710 Medium.jpeg",
"IMG_0718 Medium.jpeg",
"IMG_0721 Medium.jpeg",
"IMG_0723 Medium.jpeg",
"IMG_0727 Medium.jpeg",
"IMG_0729 Medium.jpeg",
"IMG_0730 Medium.jpeg",
"IMG_0731 Medium.jpeg",
"IMG_0732 Medium.jpeg",
"IMG_0733 Medium.jpeg",
"IMG_0738 Medium.jpeg",
"IMG_0739 Medium.jpeg",
"IMG_0740 Medium.jpeg",
"IMG_0742 Medium.jpeg",
"IMG_0744 Medium.jpeg",
"IMG_0745 Medium.jpeg",
"IMG_0749 Medium.jpeg",
"IMG_0750 Medium.jpeg",
"IMG_0751 Medium.jpeg",
"IMG_0752 Medium.jpeg",
"IMG_0753 Medium.jpeg",
"IMG_0754 Medium.jpeg",
"IMG_0755 Medium.jpeg",
"IMG_0756 Medium.jpeg",
"IMG_0758 Medium.jpeg",
"IMG_0759 Medium.jpeg",
"IMG_0769 Medium.jpeg",
"IMG_0771 Medium.jpeg",
"IMG_0774 Medium.jpeg",
"IMG_0780 Medium.jpeg",
"IMG_0783 Medium.jpeg",
"IMG_0786 Medium.jpeg",
"IMG_0814 Medium.jpeg",
"IMG_0821 2 Medium.jpeg",
"IMG_0826 2 Medium.jpeg",
"IMG_0827 2 Medium.jpeg",
"IMG_0828 2 Medium.jpeg",
"IMG_0830 2 Medium.jpeg",
"IMG_0836 2 Medium.jpeg",
"IMG_0837 2 Medium.jpeg",
"IMG_0841 2 Medium.jpeg",
"IMG_0845 2 Medium.jpeg",
"IMG_0855 Medium.jpeg",
"IMG_0858 Medium.jpeg",
"IMG_0863 Medium.jpeg",
"IMG_0864 Medium.jpeg",
"IMG_0868 Medium.jpeg",
"IMG_0872 Medium.jpeg",
"IMG_0874 Medium.jpeg",
"IMG_0875 Medium.jpeg",
"IMG_0888 2 Medium.jpeg",
"IMG_0890 2 Medium.jpeg",
"IMG_0891 2 Medium.jpeg",
"IMG_0893 4 Medium.jpeg",
"IMG_0895 2 Medium.jpeg",
"IMG_0897 2 Medium.jpeg",
"IMG_0898 2 Medium.jpeg",
"IMG_0901 Medium.jpeg",
"IMG_0904 Medium.jpeg",
"IMG_0905 Medium.jpeg",
"IMG_0906 Medium.jpeg",
"IMG_0907 Medium.jpeg",
"IMG_0908 Medium.jpeg",
"IMG_0909 Medium.jpeg",
"IMG_0910 Medium.jpeg",
"IMG_0911 Medium.jpeg",
"IMG_0913 Medium.jpeg",
"IMG_0914 Medium.jpeg",
"IMG_0915 Medium.jpeg",
"IMG_0917 Medium.jpeg",
"IMG_0918 Medium.jpeg",
"IMG_0922 Medium.jpeg",
"IMG_0928 Medium.jpeg",
"IMG_0929 Medium.jpeg",
"IMG_0930 Medium.jpeg",
"IMG_0931 Medium.jpeg",
"IMG_0932 Medium.jpeg",
"IMG_0933 Medium.jpeg",
"IMG_0935 Medium.jpeg",
"IMG_0936 Medium.jpeg",
"IMG_0941 Medium.jpeg",
"IMG_0945 Medium.jpeg"
  ];

  // Build full URLs with correct folder + URL-encoding for spaces
  const URLS = FILES.map(name => encodeURI(`images/${name}`));
  const TOTAL = URLS.length;

  // ---- Hook up preview + lightbox ----
  const openBtn  = document.getElementById('openGallery');   // from the single-image preview
  const root     = document.getElementById('lightbox');
  const lbImg    = document.getElementById('lb-image');
  const lbCap    = document.getElementById('lb-caption');
  const lbCount  = document.getElementById('lb-count');
  const btnClose = root.querySelector('.lb-close');
  const btnPrev  = root.querySelector('.lb-prev');
  const btnNext  = root.querySelector('.lb-next');

  // If the single preview exists, set it to the first image automatically
  if (openBtn) {
    const previewImg = openBtn.querySelector('img');
    if (previewImg) previewImg.src = URLS[0];
  }

  // State
  let idx = 0;         // 0..TOTAL-1
  let startX = null;
  let lastFocus = null;

  // Helpers
  const captionFromName = (url) => {
    try {
      const n = decodeURI(url).split('/').pop().replace(/\.\w+$/, '');
      return n; // e.g., "IMG_0821 2 Medium"
    } catch { return ''; }
  };
  const wrap = (n) => (n + TOTAL) % TOTAL;
  const preload = (i) => { const im = new Image(); im.src = URLS[wrap(i)]; };

  function update() {
    // prevent cumulative transforms/sizing
    lbImg.style.width = '';
    lbImg.style.height = '';
    lbImg.style.transform = 'none';

    lbImg.src = URLS[idx];
    lbImg.alt = captionFromName(URLS[idx]);
    lbCap.textContent = captionFromName(URLS[idx]);
    lbCount.textContent = `${idx + 1} / ${TOTAL}`;

    // Preload neighbors
    preload(idx + 1);
    preload(idx - 1);
  }

  function openAt(i) {
    idx = wrap(i);
    lastFocus = document.activeElement;
    update();
    root.classList.add('active');
    root.setAttribute('aria-hidden', 'false');
    document.documentElement.style.overflow = 'hidden';
    btnNext.focus({preventScroll:true});
  }
  function close() {
    root.classList.remove('active');
    root.setAttribute('aria-hidden', 'true');
    document.documentElement.style.overflow = '';
    if (lastFocus && typeof lastFocus.focus === 'function') {
      lastFocus.focus({preventScroll:true});
    }
  }
  function prev(){ idx = wrap(idx - 1); update(); }
  function next(){ idx = wrap(idx + 1); update(); }

  // Events
  if (openBtn) openBtn.addEventListener('click', () => openAt(0));
  btnClose.addEventListener('click', close);
  btnPrev .addEventListener('click', prev);
  btnNext .addEventListener('click', next);

  // backdrop click closes (ignore clicks within stage/controls)
  root.addEventListener('click', (e)=>{
    const within = e.target.closest('.lb-stage, .lb-close, .lb-prev, .lb-next');
    if (!within) close();
  });

  // keyboard
  document.addEventListener('keydown', (e)=>{
    if (!root.classList.contains('active')) return;
    if (e.key === 'Escape') close();
    if (e.key === 'ArrowLeft')  prev();
    if (e.key === 'ArrowRight') next();
  });

  // touch swipe
  lbImg.addEventListener('touchstart', e => { startX = e.touches[0].clientX; }, {passive:true});
  lbImg.addEventListener('touchmove',  e => {
    if (startX == null) return;
    const dx = e.touches[0].clientX - startX;
    if (Math.abs(dx) > 50) { (dx>0 ? prev : next)(); startX = null; }
  }, {passive:true});
  lbImg.addEventListener('touchend', () => { startX = null; });
})();
</script>





  
</body>
</html>
